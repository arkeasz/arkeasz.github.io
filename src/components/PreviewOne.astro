---
let { title, description, preview, details, page, logo, tags } = Astro.props;

let newTags = tags ? tags.split(' ').filter(Boolean) : [];
---

<article class="preview-one">
    <div class="header">
        <div class="title">{title}</div>
        <div class="social">
            <a href={page}>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" xml:space="preserve"><path fill="#111" d="M115.182 106.648c-2.7 0-5.2-1-7.1-2.9-.8-.8-.8-2 0-2.8.8-.8 2-.8 2.8 0 2.3 2.3 6.2 2.3 8.5 0l19.8-19.8c2.3-2.3 2.3-6.1 0-8.5l-11.3-11.3c-2.3-2.3-6.1-2.3-8.5 0l-19.8 19.7c-2.3 2.3-2.3 6.1 0 8.5.8.8.8 2 0 2.8-.8.8-2 .8-2.8 0-3.9-3.9-3.9-10.2 0-14.1l19.8-19.8c3.9-3.9 10.3-3.9 14.2 0l11.3 11.3c3.9 3.9 3.9 10.2 0 14.1l-19.8 19.9c-1.9 1.9-4.4 2.9-7.1 2.9zM76.982 144.848c-2.6 0-5.1-1-7.1-2.9l-11.3-11.4c-3.9-3.8-3.9-10.2 0-14.1l19.8-19.8c3.8-3.8 10.4-3.8 14.1 0 .8.8.8 2 0 2.8-.8.8-2 .8-2.8 0-2.3-2.3-6.2-2.3-8.5 0l-19.7 19.8c-2.3 2.3-2.3 6.1 0 8.5l11.3 11.3c2.3 2.3 6.1 2.3 8.5 0l19.8-19.8c2.3-2.3 2.3-6.1 0-8.5-.8-.8-.8-2 0-2.8.8-.8 2-.8 2.8 0 3.9 3.9 3.9 10.2 0 14.1l-19.8 19.9c-2 1.9-4.5 2.9-7.1 2.9z"/><path fill="#282828" d="M76.982 125.548c-.5 0-1-.2-1.4-.6-.8-.8-.8-2 0-2.8l45.3-45.3c.8-.8 2-.8 2.8 0 .8.8.8 2 0 2.8l-45.3 45.3c-.4.4-.9.6-1.4.6z"/></svg>
            </a>
            <a href={details}>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" xml:space="preserve"><path fill="#282828" d="M92.232 121.498c-1.1 0-2-.9-2-2v-40.6c0-3 2.4-5.4 5.4-5.4h26.3c1.1 0 2 .9 2 2s-.9 2-2 2h-26.3c-.8 0-1.4.6-1.4 1.4v40.6c0 1.1-.9 2-2 2z"/><path fill="#282828" d="m123.032 83.098 9.1-5.2c1.8-1.1 1.8-3.7 0-4.7l-9.1-5.2c-1.8-1.1-4.1.3-4.1 2.4v10.5c0 1.9 2.3 3.2 4.1 2.2zM119.432 132.498h-45.4c-4 0-7.3-3.3-7.3-7.3v-45.4c0-4 3.3-7.3 7.3-7.3h7.1c1.1 0 2 .9 2 2s-.9 2-2 2h-7.1c-1.8 0-3.3 1.5-3.3 3.3v45.4c0 1.8 1.5 3.3 3.3 3.3h45.4c1.8 0 3.3-1.5 3.3-3.3v-27.7c0-1.1.9-2 2-2s2 .9 2 2v27.7c0 4-3.3 7.3-7.3 7.3z"/></svg>
            </a>
        </div>
    </div>
    <div class="content">
        <figure>
            <img src={preview} alt="preview">
            <figcaption class="description">
                { description }
            </figcaption>
        </figure>
    </div>
    <div class="footer">
        <picture class="logo">
            <img src={logo} alt="logo">
        </picture>
        <div class="tags">
            {newTags.map((el: string) => (
                <div class="tag">{el.toUpperCase()}</div>
            ))}
        </div>
    </div>
</article>

<style>
    .preview-one {
        display: flex;
        flex-direction: column;
        gap: .9rem;
        --padding: .7rem;
        padding: .5rem var(--padding);
        width: calc(100% - 2rem);
        outline: 2px solid #B82132;
        background: #F5F3F4;
        border-radius: .4rem;

        .header {
            display: flex;
            justify-content: space-between;

            .title {
                font-family: "Palanquin Dark", sans-serif;
                font-weight: 400;
                font-style: normal;
                font-size: .7rem;
            }

            .social {
                display: flex;
                width: 4rem;
                justify-content: flex-end;

                a {
                    height: 100%;
                    display: flex;
                    justify-content: center;
                    align-items: center;

                    svg {
                        height: 150%;
                    }
                }
            }
        }

        .content figure {
            display: flex;
            flex-direction: row-reverse;
            align-items: center;
        }

        .footer {
            display: flex;
            justify-content: space-between;

            picture {
                align-self: flex-end;
            }

            .tags {
                display: flex;
            }
        }
    }

    figure {
        display: flex;
        justify-content: space-between;
        gap: 1rem;

        img {
            width: 50%;
            object-fit: contain;
        }
    }
    .tags {
        align-self: flex-end;
        display: flex;
        gap: .5rem;
        .tag {
            width: 3rem;
            height: 1.4rem;
            display: grid;
            place-items: center;
            cursor: default;
            font-size: .5rem;
            color: #fff;
            background: #B82132;
            border-radius: .2rem;
        }
    }
    .description {
        font-size: clamp(.3rem, 2.5vw,.6rem);
        width: 50%;
    }
</style>
